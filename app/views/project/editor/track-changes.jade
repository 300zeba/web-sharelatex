div#trackChanges(ng-show="ui.view == 'track-changes'")
	aside.change-list
		ul.list-unstyled(ng-controller="TrackChangesListController")
			li.change(
				ng-repeat="update in trackChanges.updates"
				ng-class="{\
					'first-in-day': update.meta.first_in_day,\
					'selected': update.inSelection,\
					'selected-to': update.selectedTo,\
					'selected-from': update.selectedFrom\
				}"
				ng-controller="TrackChangesListItemController"
			)

				div.day(ng-show="update.meta.first_in_day") {{ update.meta.end_ts | relativeDate }}

				div.selectors
					div.range
					form
						input.selector-from(
							type="radio"
							name="fromVersion"
							ng-model="update.selectedFrom"
							ng-value="true"
						)
					form
						input.selector-to(
							type="radio"
							name="toVersion"
							ng-model="update.selectedTo"
							ng-value="true"
						)

				div.description(ng-click="select()")
					div.time {{ update.meta.end_ts | formatDate:'h:mm a' }}
					div.docs(ng-repeat="(doc_id, doc) in update.docs")
						span.doc {{ doc.entity.name }}
					div.users
						span.user(ng-repeat="user in update.meta.users")
							| {{user.first_name}} {{user.last_name}}