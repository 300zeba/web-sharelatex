.pdf-viewer, .pdf-logs, .pdf-errors, .pdf-uncompiled, .main-script-output {
	.full-size;
	top: 58px;
}

.pdf-logs, .pdf-errors, .pdf-uncompiled {
	padding: @line-height-computed / 2;
}

.pdf-uncompiled, .jupyter-uncompiled {
	padding-top: @line-height-computed / 2;
	.fa {
		color: @blue;
	}
}

.pdf-viewer {
	iframe {
		width: 100%;
		height: 100%;
		border: none;
	}
	.pdfjs-viewer {
		.full-size;
		background-color: @gray-lighter;
		overflow: scroll;
		canvas, div.pdf-canvas {
			background: white;
			box-shadow: black 0px 0px 10px;
		}
		div.pdf-canvas.pdfng-empty {
			background-color: white;
		}
		div.pdf-canvas.pdfng-loading {
			background-color: white;
		}
		.page-container {
			margin: 10px auto;
			padding: 0 10px;
			box-sizing: content-box;
		}
	}
	.progress-thin {
		position: absolute;
		top: -2px;
		height: 3px;
		left: 0;
		right: 0;
		.progress-bar {
			height: 100%;
			background-color: @link-color;
		}
	}
	.pdfjs-controls {
		position: absolute;
		padding: @line-height-computed / 2;
		top: 0;
		left: 0;
		display: inline-block;
		.btn-group {
			transition: opacity 0.5s ease, visibility 0 linear 0.5s;
			visibility: hidden;
			opacity: 0;
		}
		&:hover, &.flash {
			.btn-group {
				transition: none;
				visibility: visible;
				opacity: 1;
			}
		}
		i.fa-arrows-h {
			border-right: 2px solid white;
			border-left: 2px solid white;
		}
		i.fa-arrows-v {
			border-top: 2px solid white;
			border-bottom: 2px solid white;
		}
	}
}

.pdf .toolbar {
	.toolbar-right {
		margin-right: @line-height-computed / 2;
		a {
			&:hover {
				i {
					box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.25);
					border-color: @gray-dark;
				}
			}
			i {
				display: inline-block;
				width: 16px;
				height: 16px;
				border: 1px solid @gray-light;
				margin-top: 5px;
			}
			i.full-screen {
				border-top-width: 3px;
				border-radius: 2px;
			}
			i.split-screen {
				width: 7px;
				border-top-width: 3px;
				border-radius: 2px;
				margin-left: 2px;
			}
		}
	}
}

.pdf-logs {
	overflow: auto;
	.alert {
		font-size: 0.9rem;
		margin-bottom: @line-height-computed / 2;
		cursor: pointer;
		.line-no {
			float: right;
			color: @gray;
			font-weight: 700;
		}
		.entry-message {
			font-weight: 700;
			//font-family: @font-family-monospace;
		}
		.entry-content {
			white-space: pre-wrap;
			font-size: 0.8rem;
			//font-family: @font-family-monospace;
		}
	}
	pre {
		font-size: 12px;
	}
	.dropdown {
		position: relative;
	}
}

.synctex-controls {
	top: 68px;
	padding: 0px 2px;
	.btn-xs {
		line-height: 1.3;
		padding: 0 2px 0;
	}
}

.script-output-pane {
	.toolbar {
		.running-notification {
			margin-left: @line-height-computed / 2;
		}
	}
}

.command-output {
	overflow: auto;
	background-color: white;
	padding: @line-height-computed / 2;
}

.jupyter-output {
	@execution-count-width: 60px;
	@manual-input-height: 50px;

	.jupyter-output-inner {
		padding: 0 @line-height-computed / 2;
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: @manual-input-height;
		overflow: auto;
	}
	
	.jupyter-uncompiled-bottom {
		position: absolute;
		bottom: @line-height-computed;
		left: @execution-count-width + 36px;
		vertical-align: top;
		i.fa-level-down {
			position: relative;
			top: @line-height-computed / 2;
		}
	}
	
	.cell, .manual-input {
		.input, .output {
			position: relative;
			font-family: @font-family-monospace;
			font-size: 14px;
			min-height: @line-height-computed;
		}
		
		.execution-count {
			position: absolute;
			top: 1px;
			left: 0;
			width: @execution-count-width;
			font-size: 0.9em;
			color: @gray-light;
			text-align: right;
		}
		
		.cell-content {
			margin-left: @execution-count-width + @line-height-computed / 2;
			position: relative;
		}
	}
	
	.manual-input {
		position: absolute;
		bottom: 0;
		left: @line-height-computed / 2;
		right: @line-height-computed / 2;
		.input {
			margin-top: @line-height-computed / 2;
			margin-bottom: @line-height-computed / 2;
		}
		textarea {
			resize: none;
			position: relative;
			top: -2px;
			display: block;
			border: none;
			width: 100%;
			height: @line-height-computed;
			padding: 2px;
		}
	}

	.alert {
		margin: @line-height-computed / 2 0;
		overflow: auto;
	}
	
	.cell {
		width: 100%;
		margin: @line-height-computed / 2 0;
		.output {
			margin-top: @line-height-computed / 2;
			.chunk {
				position: relative;
				display: inline;
			}
		}
		
		.text-input, .text-output {
			white-space: pre-wrap;
		}

		.ansi-error {
			span {
			     color: inherit !important;
			}
		}
		
		pre {
			margin: 0;
		}
		
		.format-dropdown {
			position: relative;
		}
		
		.download-controls {
			font-size: 16px;
			display: none;
			position: absolute;
			left: 0;
			top: 0;
			padding: 4px;
			a {
				color: @gray;
				&:hover, &:active, &:focus {
					color: @gray-dark;
				}
			}
			i.fa {
				vertical-align: middle;
			}
			.name {
				padding: 4px;
				background-color: white;
			}
			&.download-controls-right {
				right: 0;
				left: auto;
			}
		}
		
		.image, .file-modified, .file-modified-image-inner {
			display: block;
			border: 1px solid @gray-lighter;
			background-color: white;
			padding: 6px 12px;
		}
		
		
		.file-written {
			width: 100%;
		}
		
		.image {
			padding-top: 18px;
			max-width: 100%;
			svg {
				width: 100%;
				height: 100%;
			}
		}
		
		.iframe-wrapper {
			position: relative;
			width: 100%;
			&:before {
				content: "";
				display: block;
				padding-top: 100%; 	/* initial ratio of 1:1*/
			}
			iframe {
				border: 1px solid @gray-lighter;
				position: absolute;
				top: 0;
				width: 100%;
				height: 100%;
			}
		}
		
		.file-modified {
			position: relative;
		}
		
		.file-modified-image {
			.file-modified-image-inner {
				display: inline-block;
				min-width: 400px;
				position: relative;
			}
			
			img {
				width: 100%;
			}
		}
		
		.display-data-inner {
			display: inline-block;
			position: relative;
			max-width: 100%;
			&.display-data-inner-full-width {
				display: block;
				width: 100%;
			}
		}
		
		.display-data, .file-modified, .file-modified-image {
			margin: @line-height-computed / 2 0;
			&:hover {
				.download-controls {
					display: block;
				}
			}
		}
		
		hr {
			margin-top: @line-height-computed / 2;
			margin-bottom: @line-height-computed / 2;
		}
		
		.input_request {
			display: -webkit-box;
			display: -moz-box;
			display: -ms-flexbox;
			display: -webkit-flex;
			display: flex;
			.prompt {
				max-width: 50%;
				padding-right: @line-height-computed / 4;
			}
			.input {
				width: 100%;
				input {
					width: 100%;
					border: none;
				}
			}
		}
	}
}

.command-output {
	.output {
		white-space: pre-wrap;
		font-family: @font-family-monospace;
		font-size: 14px;
	}
	.stderr {
		color: @red;
	}
}

.package-search-modal {
	.package-search-form {
		form {
			margin-top: 0px;
			.search-button {
				margin-top: -7px;
			}
		}
	}
	.package-search-results {
		margin-top: 18px;
		.messages {
			.alert {
				margin-left: 18px;
				margin-right: 28px;
			}
		}
		.scroll-container {
			max-height: 360px;
			overflow: auto;
			.search-result-item {
				padding: 18px;
				border-bottom: 1px solid #ddd;
				.top-row {
					margin-bottom: 8px;
					.package-name {
						font-size: 1.3em;
						font-weight: bold;
					}
				}
			}
		}
	}
}

.install-packages-modal {
	.install-command-output {
		height: 300px;
		overflow: auto;
		border: 1px solid @toolbar-border-color;
	}
	form {
		select {
			border-color: transparent;
			box-shadow: none;
			&:hover {
				cursor: pointer;
				border: 1px solid #cccccc;
				box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
			}
		}
		input.package-name {
			width: 400px;
			padding: 0 10px;
			margin-top: -2px;
		}
	}
}

.link-image-modal {

	.thumbnail {
		text-align: center;

		img {
			max-width: 70%;
			max-height: 400px;
		}

		.file {
			padding: @line-height-computed / 2;

			.fa {
				vertical-align: middle;
			}
		}
	}
	form {
		text-align: center
	}
	input.link-url {
		width: 70%
	}

}

.editor-dark {
	.pdf-logs {
		background-color: lighten(@editor-dark-background-color, 10%);
	}
	.pdfjs-viewer {
		background-color: lighten(@editor-dark-background-color, 10%);
	}
	.pdf .toolbar {
		.toolbar-right a {
			i {
				border-color: @gray;
			}
			&:hover {
				i {
					border-color: @gray-light;
				}
			}
		}
	}
}
